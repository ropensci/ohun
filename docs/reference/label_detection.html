<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate the performance of a signal detection procedure — label_detection • ohun</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Evaluate the performance of a signal detection procedure — label_detection" />
<meta property="og:description" content="label_detection evaluates the performance of a signal detection procedure comparing the output selection table to a reference selection table" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ohun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ohun.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">vignettes</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/ohun/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate the performance of a signal detection procedure</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/ohun/blob/master/R/label_detection.R'><code>R/label_detection.R</code></a></small>
    <div class="hidden name"><code>label_detection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>label_detection</code> evaluates the performance of a signal detection procedure comparing the output selection table to a reference selection table</p>
    </div>

    <pre class="usage"><span class='fu'>label_detection</span><span class='op'>(</span><span class='va'>reference</span>, <span class='va'>detection</span>, parallel <span class='op'>=</span> <span class='fl'>1</span>, pb <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>reference</th>
      <td><p>Data frame or 'selection.table' (following the warbleR package format) with the reference selections (start and end of the signals) that will be used to evaluate the performance of the detection, represented by those selections in 'detection'. Must contained at least the following columns: "sound.files", "selec", "start" and "end". <strong>It must contain the reference selections that will be used for detection optimization</strong>.</p></td>
    </tr>
    <tr>
      <th>detection</th>
      <td><p>Data frame or 'selection.table' with the detections (start and end of the signals) that will be compared against the 'reference' selections. Must contained at least the following columns: "sound.files", "selec", "start" and "end". It can contain data for additional sound files not found in 'references'. In this case the routine assumes that no signals are found in those files, so detection from those files are all false positives.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric. Controls whether parallel computing is applied.
It specifies the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control progress bar. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame or selection table (if 'detection' was also a selection table, warbleR package's format, see <code><a href='https://marce10.github.io/warbleR/reference/selection_table.html'>selection_table</a></code>) including the columns in 'detection' plus 3 additional columns:</p><ul>
<li><p><code>detection.class</code>: indicates the class of each detection. Five possible labels: 'true.positive', 'false.positive', 'true.positive (split)', 'true.positive (merged)' and 'true.positive (split/merged)'.  See <code><a href='diagnose_detection.html'>diagnose_detection</a></code> for a description.</p></li>
<li><p><code>reference.row</code>: contains the index of the row in 'reference' that corresponds to the detected signal (only supplied for true positives).</p></li>
<li><p><code>overlap</code>: contains the proportion of the reference signal that is overlapped in time by the detection (only supplied for true positives).</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function identifies the rows in the output of a detection routine as true or false positives. This is achieved by comparing the data frame to a reference selection table in which all signals of interest have been selected.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M. (2021), ohun: automatic detection of acoustic signals. R package version 0.1.0.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='diagnose_detection.html'>diagnose_detection</a></code>, <code><a href='summarize_diagnostic.html'>summarize_diagnostic</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Marcelo Araya-Salas <a href='mailto:marcelo.araya@ucr.ac.cr'>marcelo.araya@ucr.ac.cr</a>)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='op'>{</span>
<span class='co'># load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lbh_reference"</span><span class='op'>)</span>

<span class='co'># an extra one in detection (1 false positive)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>]</span>, detection <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>)</span>

<span class='co'># missing one in detection (all true positives)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>, detection <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>]</span><span class='op'>)</span>

<span class='co'># perfect detection (all true positives)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>, detection <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>)</span>

<span class='co'># and extra sound file in reference (all true positives)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>, detection <span class='op'>=</span>
<span class='va'>lbh_reference</span><span class='op'>[</span><span class='va'>lbh_reference</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>!=</span> <span class='st'>"lbh1.wav"</span>, <span class='op'>]</span><span class='op'>)</span>

<span class='co'># and extra sound file in detection (some false positives)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span>
<span class='va'>lbh_reference</span><span class='op'>[</span><span class='va'>lbh_reference</span><span class='op'>$</span><span class='va'>sound.files</span> <span class='op'>!=</span> <span class='st'>"lbh1.wav"</span>, <span class='op'>]</span>,
detection <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>)</span>

<span class='co'># duplicate 1 detection row (to get 2 splits)</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>,
detection <span class='op'>=</span> <span class='va'>lbh_reference</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>lbh_reference</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span><span class='op'>)</span>

<span class='co'># merge 2 detections (to get split and merge)</span>
<span class='va'>Y</span> <span class='op'>&lt;-</span> <span class='va'>lbh_reference</span>
<span class='va'>Y</span><span class='op'>$</span><span class='va'>end</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1.2</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>, detection <span class='op'>=</span> <span class='va'>Y</span><span class='op'>)</span>

<span class='co'># remove split to get only merge</span>
<span class='va'>Y</span> <span class='op'>&lt;-</span> <span class='va'>Y</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>2</span>, <span class='op'>]</span>
<span class='fu'>label_detection</span><span class='op'>(</span>reference <span class='op'>=</span> <span class='va'>lbh_reference</span>, detection <span class='op'>=</span> <span class='va'>Y</span><span class='op'>)</span>
<span class='op'>}</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


